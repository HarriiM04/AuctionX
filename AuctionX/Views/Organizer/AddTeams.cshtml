@{
    ViewData["Title"] = "Add Teams";
    Layout = "_Layout";
}
@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}


<h3>Create Teams</h3>

<form id="teamForm" asp-action="AddTeams" method="post">
    <input type="hidden" name="tournamentId" value="@ViewBag.TournamentId" />
    <div class="form-group">
        <label>Number of Teams</label>
        <input type="number" id="teamCount" class="form-control" min="1" />
        <button type="button" class="btn btn-primary mt-2" onclick="generateInputs()">Generate Fields</button>
    </div>

    <div id="teamInputs" class="mt-3"></div>

    <button type="submit" class="btn btn-success mt-3">Create Teams</button>
</form>

@section Scripts {
    <script>
        function generateInputs() {
            var count = document.getElementById("teamCount").value;
            var container = document.getElementById("teamInputs");
            container.innerHTML = '';

            for (let i = 0; i < count; i++) {
                var input = document.createElement("input");
                input.type = "text";
                input.name = "teamNames";
                input.className = "form-control mt-2";
                input.placeholder = "Team Name " + (i + 1);
                container.appendChild(input);
            }
        }
    </script>
}
